<!DOCTYPE html>
<link rel="import" href="../vicowa-string/vicowa-string.html">
<div>
    <template id="vicowa-image-container">
        <style>
            :host {
                position: relative;
                box-sizing: border-box;
                display: inline-block;
            }

            #image-container {
				position: relative;
				width: 100%;
				height: 100%;
            }

			.description-container {
				box-sizing: border-box;
				position: absolute;
				bottom: 0;
				width: 100%;
				text-align: center;
				visibility: var(--vicowa-image-container-description-visibility, visible);
			}

			.description-container .background {
				position: absolute;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				background: var(--vicowa-image-container-description-background, rgba(0, 0, 0, 0.7));
			}

			#description {
				display: block;
				position: relative;
				padding: 3px;
				color: var(--vicowa-image-container-description-color, white);
			}

			#description[string=""],
			#description:not([string]) {
				display: none;
			}

			#image {
				pointer-events: var(--vicowa-image-container-image-pointer-events, all);
			}

            img {
                position: absolute;
				width: 100%;
				height: 100%;
				object-fit: var(--vicowa-image-container-object-fit, contain);
				object-position: 50% 0;
            }

        </style>
        <div id="image-container">
			<picture id="picture">
				<img id="image" src="">
			</picture>
			<div class="description-container">
				<div class="background"></div>
				<vicowa-string id="description"></vicowa-string>
			</div>
        </div>
    </template>
    <script>
		(function storeTemplate() {
			const template = document.currentScript.parentNode.querySelector('template');
			window.webComponentTemplates = window.webComponentTemplates || new Map();
			window.webComponentTemplates.set(template.getAttribute('id'), template);
		})();
    </script>
    <script type="module" src="./vicowa-image-container.js"></script>
</div>
